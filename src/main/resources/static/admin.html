<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SENTINEL // ADMIN CONSOLE</title>
    <script src="js/theme-init.js"></script>
    <link rel="stylesheet" href="css/fonts.css">
    <link rel="stylesheet" href="css/admin.css">
</head>

<body>
    <div class="admin-layout">
        <!-- LEFT SIDEBAR NAVIGATION -->
        <aside class="admin-sidebar" id="admin-sidebar">
            <div class="admin-sidebar-header">
                <a href="index.html" class="admin-logo">
                    <div class="admin-logo-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                            <path d="M2 17l10 5 10-5"/>
                            <path d="M2 12l10 5 10-5"/>
                        </svg>
                    </div>
                    <div>
                        <div class="admin-logo-text">SENTINEL</div>
                        <div class="admin-logo-subtitle">Admin Console</div>
                    </div>
                </a>
            </div>

            <nav class="admin-nav" id="admin-nav">
                <a href="#" class="admin-nav-item active" data-section="overview">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/>
                        <rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/>
                    </svg>
                    Overview
                </a>
                <a href="#" class="admin-nav-item" data-section="users">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                        <circle cx="9" cy="7" r="4"/>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                    </svg>
                    Users
                </a>
                <a href="#" class="admin-nav-item" data-section="workspaces">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/>
                    </svg>
                    Workspaces
                </a>
                <a href="#" class="admin-nav-item" data-section="sectors">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <line x1="2" y1="12" x2="22" y2="12"/>
                        <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
                    </svg>
                    Sectors &amp; Pipelines
                </a>
                <a href="#" class="admin-nav-item" data-section="connectors">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
                        <polyline points="15 3 21 3 21 9"/>
                        <line x1="10" y1="14" x2="21" y2="3"/>
                    </svg>
                    Connectors
                </a>
                <a href="#" class="admin-nav-item" data-section="reports">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                        <polyline points="14 2 14 8 20 8"/>
                        <line x1="16" y1="13" x2="8" y2="13"/>
                        <line x1="16" y1="17" x2="8" y2="17"/>
                        <polyline points="10 9 9 9 8 9"/>
                    </svg>
                    Reports &amp; Audit
                </a>
                <a href="#" class="admin-nav-item" data-section="platform">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"/>
                        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                    </svg>
                    Platform
                </a>
            </nav>

            <div class="admin-sidebar-footer">
                <a href="index.html" class="admin-back-link">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="14" height="14">
                        <line x1="19" y1="12" x2="5" y2="12"/>
                        <polyline points="12 19 5 12 12 5"/>
                    </svg>
                    Back to Application
                </a>
                <div class="admin-version">SENTINEL v2.2.0</div>
            </div>
        </aside>

        <!-- MAIN CONTENT AREA -->
        <main class="admin-main">
            <header class="admin-header">
                <div class="admin-breadcrumb">
                    <a href="index.html">SENTINEL</a>
                    <span class="breadcrumb-sep">/</span>
                    <span id="admin-breadcrumb-section">Overview</span>
                </div>
                <div class="admin-header-right">
                    <span class="admin-user-badge" id="admin-user">--</span>
                </div>
            </header>

            <!-- Section: Overview -->
            <section class="admin-section" id="section-overview">
                <div class="admin-section-header">
                    <h2>System Overview</h2>
                    <span class="auto-refresh-indicator" title="Auto-refreshing every 15s">
                        <span class="auto-refresh-dot"></span> Live
                    </span>
                    <button class="btn btn-secondary btn-sm" data-action="refreshOverview">Refresh</button>
                </div>
                <div class="admin-grid admin-grid-4">
                    <div class="admin-card" id="health-card">
                        <div class="admin-card-header">
                            <div class="admin-card-title">System Health</div>
                        </div>
                        <div class="admin-card-body" id="health-body">
                            <div class="admin-loading">Loading...</div>
                        </div>
                    </div>
                    <div class="admin-card" id="usage-card">
                        <div class="admin-card-header">
                            <div class="admin-card-title">Usage</div>
                        </div>
                        <div class="admin-card-body" id="usage-body">
                            <div class="admin-loading">Loading...</div>
                        </div>
                    </div>
                    <div class="admin-card" id="docs-card">
                        <div class="admin-card-header">
                            <div class="admin-card-title">Documents</div>
                        </div>
                        <div class="admin-card-body" id="docs-body">
                            <div class="admin-loading">Loading...</div>
                        </div>
                    </div>
                    <div class="admin-card" id="pending-card">
                        <div class="admin-card-header">
                            <div class="admin-card-title">Pending Approvals</div>
                        </div>
                        <div class="admin-card-body" id="pending-body">
                            <div class="admin-loading">Loading...</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section: Users -->
            <section class="admin-section hidden" id="section-users">
                <div class="admin-section-header">
                    <h2>User Management</h2>
                    <button class="btn btn-secondary btn-sm" data-action="refreshUsers">Refresh</button>
                </div>
                <div class="admin-card">
                    <div class="admin-table-wrapper">
                        <table class="admin-table" id="users-table">
                            <thead>
                                <tr>
                                    <th>User</th>
                                    <th>Roles</th>
                                    <th>Clearance</th>
                                    <th>Sectors</th>
                                    <th>Status</th>
                                    <th>Last Login</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="users-tbody">
                                <tr><td colspan="7" class="admin-loading">Loading...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Section: Workspaces -->
            <section class="admin-section hidden" id="section-workspaces">
                <div class="admin-section-header">
                    <h2>Workspace Management</h2>
                    <div class="admin-section-actions">
                        <button class="btn btn-primary btn-sm" data-action="showCreateWorkspace">Create Workspace</button>
                        <button class="btn btn-secondary btn-sm" data-action="refreshWorkspaces">Refresh</button>
                    </div>
                </div>
                <div class="admin-grid admin-grid-2" id="workspace-list">
                    <div class="admin-loading">Loading...</div>
                </div>
                <!-- Create Workspace Modal -->
                <div class="admin-modal hidden" id="create-workspace-modal">
                    <div class="admin-modal-content">
                        <div class="admin-modal-header">
                            <h3>Create Workspace</h3>
                            <button class="icon-btn" data-action="closeCreateWorkspace">&times;</button>
                        </div>
                        <div class="admin-modal-body">
                            <div class="admin-form-group">
                                <label for="ws-name">Workspace Name</label>
                                <input type="text" id="ws-name" class="admin-input" placeholder="Enter workspace name">
                            </div>
                            <div class="admin-form-group">
                                <label for="ws-description">Description</label>
                                <input type="text" id="ws-description" class="admin-input" placeholder="Optional description">
                            </div>
                        </div>
                        <div class="admin-modal-footer">
                            <button class="btn btn-secondary" data-action="closeCreateWorkspace">Cancel</button>
                            <button class="btn btn-primary" data-action="createWorkspace">Create</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section: Sectors & Pipelines -->
            <section class="admin-section hidden" id="section-sectors">
                <div class="admin-section-header">
                    <h2>Sectors &amp; Pipeline Presets</h2>
                </div>
                <div class="admin-grid admin-grid-2">
                    <div class="admin-card">
                        <div class="admin-card-header">
                            <div class="admin-card-title">Active Sectors</div>
                        </div>
                        <div class="admin-card-body" id="sectors-body">
                            <div class="admin-loading">Loading...</div>
                        </div>
                    </div>
                    <div class="admin-card">
                        <div class="admin-card-header">
                            <div class="admin-card-title">Pipeline Defaults</div>
                        </div>
                        <div class="admin-card-body" id="pipeline-body">
                            <p class="admin-text-muted">Default retrieval settings applied per sector.</p>
                            <div class="pipeline-config-list" id="pipeline-config-list"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section: Connectors -->
            <section class="admin-section hidden" id="section-connectors">
                <div class="admin-section-header">
                    <h2>Connectors &amp; Integrations</h2>
                    <div class="admin-section-actions">
                        <button class="btn btn-secondary btn-sm" data-action="refreshConnectors">Refresh</button>
                        <button class="btn btn-primary btn-sm" data-action="syncConnectors">Sync All</button>
                    </div>
                </div>
                <div class="admin-card">
                    <div class="admin-card-header">
                        <div class="admin-card-title">Active Connectors</div>
                    </div>
                    <div class="admin-card-body">
                        <div class="connector-list" id="admin-connector-list">
                            <div class="admin-loading">Loading...</div>
                        </div>
                    </div>
                </div>
                <div class="admin-card" style="margin-top: 16px;">
                    <div class="admin-card-header">
                        <div class="admin-card-title">Connector Marketplace</div>
                        <button class="btn btn-secondary btn-sm" data-action="refreshConnectorCatalog">Refresh Catalog</button>
                    </div>
                    <div class="admin-card-body">
                        <div class="connector-marketplace-list" id="admin-connector-catalog">
                            <div class="admin-loading">Loading...</div>
                        </div>
                    </div>
                </div>
                <div class="admin-hint" id="admin-connector-hint"></div>
            </section>

            <!-- Section: Reports & Audit -->
            <section class="admin-section hidden" id="section-reports">
                <div class="admin-section-header">
                    <h2>Reports &amp; Audit</h2>
                </div>
                <div class="admin-grid admin-grid-2">
                    <!-- Executive Summary -->
                    <div class="admin-card">
                        <div class="admin-card-header">
                            <div class="admin-card-title">Executive Summary</div>
                        </div>
                        <div class="admin-card-body">
                            <div class="admin-form-row">
                                <label>Window (days)</label>
                                <input type="number" id="report-exec-days" class="admin-input admin-input-sm" value="30" min="1" max="365">
                            </div>
                            <button class="btn btn-primary btn-sm" data-action="runExecutiveReport" style="margin-top:12px;">Generate</button>
                            <div class="report-output" id="report-exec-output"></div>
                        </div>
                    </div>
                    <!-- SLA Dashboard -->
                    <div class="admin-card">
                        <div class="admin-card-header">
                            <div class="admin-card-title">SLA Dashboard</div>
                        </div>
                        <div class="admin-card-body">
                            <div class="admin-form-row">
                                <label>Window (days)</label>
                                <input type="number" id="report-sla-days" class="admin-input admin-input-sm" value="7" min="1" max="365">
                            </div>
                            <button class="btn btn-primary btn-sm" data-action="runSlaReport" style="margin-top:12px;">Generate</button>
                            <div class="report-output" id="report-sla-output"></div>
                        </div>
                    </div>
                    <!-- Audit Export -->
                    <div class="admin-card">
                        <div class="admin-card-header">
                            <div class="admin-card-title">Audit Export</div>
                        </div>
                        <div class="admin-card-body">
                            <div class="admin-form-row">
                                <label>Window (days)</label>
                                <input type="number" id="report-audit-days" class="admin-input admin-input-sm" value="30" min="1" max="365">
                            </div>
                            <div class="admin-form-row">
                                <label>Max Events</label>
                                <input type="number" id="report-audit-limit" class="admin-input admin-input-sm" value="1000" min="1" max="10000">
                            </div>
                            <div class="admin-form-row">
                                <label>Format</label>
                                <select id="report-audit-format" class="admin-select">
                                    <option value="json">JSON</option>
                                    <option value="csv">CSV</option>
                                </select>
                            </div>
                            <div class="admin-form-row">
                                <label>Log Type</label>
                                <select id="report-audit-type" class="admin-select">
                                    <option value="standard">Standard</option>
                                    <option value="hipaa">HIPAA</option>
                                </select>
                            </div>
                            <button class="btn btn-primary btn-sm" data-action="runAuditExport" style="margin-top:12px;">Export</button>
                            <div class="report-output" id="report-audit-output"></div>
                        </div>
                    </div>
                    <!-- Scheduled Reports -->
                    <div class="admin-card">
                        <div class="admin-card-header">
                            <div class="admin-card-title">Scheduled Reports</div>
                            <button class="btn btn-secondary btn-sm" data-action="refreshReportSchedules">Refresh</button>
                        </div>
                        <div class="admin-card-body">
                            <div class="admin-form-row">
                                <label>Type</label>
                                <select id="schedule-type" class="admin-select">
                                    <option value="executive">Executive</option>
                                    <option value="sla">SLA</option>
                                    <option value="audit">Audit</option>
                                </select>
                            </div>
                            <div class="admin-form-row">
                                <label>Cadence</label>
                                <select id="schedule-cadence" class="admin-select">
                                    <option value="daily">Daily</option>
                                    <option value="weekly">Weekly</option>
                                    <option value="monthly">Monthly</option>
                                </select>
                            </div>
                            <button class="btn btn-primary btn-sm" data-action="createReportSchedule" style="margin-top:12px;">Create Schedule</button>
                            <div class="schedule-list" id="schedule-list"></div>
                        </div>
                    </div>
                </div>
                <!-- Recent Exports -->
                <div class="admin-card" style="margin-top: 16px;">
                    <div class="admin-card-header">
                        <div class="admin-card-title">Recent Exports</div>
                        <button class="btn btn-secondary btn-sm" data-action="refreshReportExports">Refresh</button>
                    </div>
                    <div class="admin-card-body">
                        <div class="export-list" id="export-list">
                            <div class="admin-loading">Loading...</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section: Platform -->
            <section class="admin-section hidden" id="section-platform">
                <div class="admin-section-header">
                    <h2>Platform Settings</h2>
                </div>
                <div class="admin-grid admin-grid-2">
                    <div class="admin-card">
                        <div class="admin-card-header">
                            <div class="admin-card-title">Classification Banner</div>
                        </div>
                        <div class="admin-card-body">
                            <p class="admin-text-muted">Classification banners are configured by the deployment profile (dev, standard, enterprise, govcloud).</p>
                            <div class="admin-kv-row">
                                <span class="admin-kv-label">Current Profile</span>
                                <span class="admin-kv-value" id="platform-profile">--</span>
                            </div>
                            <div class="admin-kv-row">
                                <span class="admin-kv-label">Edition</span>
                                <span class="admin-kv-value" id="platform-edition">--</span>
                            </div>
                        </div>
                    </div>
                    <div class="admin-card">
                        <div class="admin-card-header">
                            <div class="admin-card-title">Session &amp; Security</div>
                        </div>
                        <div class="admin-card-body">
                            <p class="admin-text-muted">Session and security settings are controlled by server configuration.</p>
                            <div class="admin-kv-row">
                                <span class="admin-kv-label">Auth Mode</span>
                                <span class="admin-kv-value" id="platform-auth-mode">--</span>
                            </div>
                            <div class="admin-kv-row">
                                <span class="admin-kv-label">Fail-Closed Audit</span>
                                <span class="admin-kv-value" id="platform-fail-closed">--</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Toast container -->
    <div id="toast-container"></div>

    <script src="js/admin.js"></script>
</body>

</html>
