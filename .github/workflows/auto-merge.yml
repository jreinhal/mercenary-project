name: Auto-merge PRs
    on:
      pull_request:
        types: [opened, reopened, synchronized, ready_for_review]
    
    permissions:
      pull-requests: write
      contents: write
    
    jobs:
      enable-auto-merge:
        runs-on: ubuntu-latest
        if: github.event.pull_request.draft == false
        steps:
          - name: Enable auto-merge
            run: gh pr merge --auto --merge "$PR_URL"
            env:
              PR_URL: ${{github.event.pull_request.html_url}}
              GH_TOKEN: ${{secrets.GITHUB_TOKEN}}
