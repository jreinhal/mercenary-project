# SENTINEL Environment Variables
# Generated by Ansible - DO NOT EDIT MANUALLY
# Environment: {{ environment_name }}

# Java
JAVA_HOME={{ java_home }}
JAVA_OPTS="-Xms{{ sentinel_min_heap }} -Xmx{{ sentinel_max_heap }} {{ sentinel_gc_options }}"

# Application
SENTINEL_EDITION={{ sentinel_edition }}
SPRING_PROFILES_ACTIVE={{ spring_profiles | join(',') }}

# Database
MONGODB_URI={{ mongodb_uri }}
{% if vault_mongodb_password is defined %}
MONGODB_PASSWORD={{ vault_mongodb_password }}
{% endif %}

# Ollama
OLLAMA_BASE_URL={{ ollama_base_url }}
OLLAMA_MODEL={{ ollama_model }}

# Security
AUTH_MODE={{ auth_mode }}
{% if vault_jwt_secret is defined %}
JWT_SECRET={{ vault_jwt_secret }}
{% endif %}
{% if vault_encryption_key is defined %}
ENCRYPTION_KEY={{ vault_encryption_key }}
{% endif %}

# TLS
{% if enable_tls %}
SERVER_SSL_ENABLED=true
SERVER_SSL_KEY_STORE={{ tls_keystore_path }}
{% endif %}

# Logging
LOG_PATH={{ sentinel_log_dir }}
{% if debug_mode | default(false) %}
LOG_LEVEL=DEBUG
{% endif %}

{% if stig_hardening | default(false) %}
# STIG Hardening
AUDIT_FAIL_CLOSED=true
{% endif %}

{% if fips_mode | default(false) %}
# FIPS Mode
JAVA_OPTS="${JAVA_OPTS} -Dcom.sun.net.ssl.rsaPreMasterSecretFix=true"
{% endif %}
